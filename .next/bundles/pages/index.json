{"component":"module.exports =\nwebpackJsonp([5],{\n\n/***/ 557:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__resourceQuery) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = __webpack_require__(46);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(22);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(48);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(23);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _mobxReact = __webpack_require__(555);\n\nvar _store = __webpack_require__(563);\n\nvar _Page = __webpack_require__(562);\n\nvar _Page2 = _interopRequireDefault(_Page);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/wadeanthony/Development/mobx-nextjs/pages/index.js?entry';\n\n\nvar Counter = function (_React$Component) {\n  (0, _inherits3.default)(Counter, _React$Component);\n\n  (0, _createClass3.default)(Counter, null, [{\n    key: 'getInitialProps',\n    value: function getInitialProps(_ref) {\n      var req = _ref.req;\n\n      var isServer = !!req;\n      var store = (0, _store.initStore)(isServer);\n      return { lastUpdate: store.lastUpdate, isServer: isServer };\n    }\n  }]);\n\n  function Counter(props) {\n    (0, _classCallCheck3.default)(this, Counter);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Counter.__proto__ || (0, _getPrototypeOf2.default)(Counter)).call(this, props));\n\n    _this.store = (0, _store.initStore)(props.isServer, props.lastUpdate);\n    return _this;\n  }\n\n  (0, _createClass3.default)(Counter, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(_mobxReact.Provider, { store: this.store, __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        }\n      }, _react2.default.createElement(_Page2.default, { title: 'Index Page', linkTo: '/other', __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        }\n      }));\n    }\n  }]);\n\n  return Counter;\n}(_react2.default.Component);\n\nexports.default = Counter;\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/wadeanthony/Development/mobx-nextjs/pages/index.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/wadeanthony/Development/mobx-nextjs/pages/index.js\"); } } })();\n    (function (Component, route) {\n      if (false) return\n      if (false) return\n\n      var qs = __webpack_require__(82)\n      var params = qs.parse(__resourceQuery.slice(1))\n      if (params.entry == null) return\n\n      module.hot.accept()\n      Component.__route = route\n\n      if (module.hot.status() === 'idle') return\n\n      var components = next.router.components\n      for (var r in components) {\n        if (!components.hasOwnProperty(r)) continue\n\n        if (components[r].Component.__route === route) {\n          next.router.update(r, Component)\n        }\n      }\n    })(module.exports.default || module.exports, \"/\")\n  \n/* WEBPACK VAR INJECTION */}.call(exports, \"?entry\"))\n\n/***/ }),\n\n/***/ 561:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _style = __webpack_require__(564);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _jsxFileName = '/Users/wadeanthony/Development/mobx-nextjs/components/Clock.js';\n\nexports.default = function (props) {\n  return _react2.default.createElement('div', { className: props.light ? 'light' : '', 'data-jsx': 820628782,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 3\n    }\n  }, format(new Date(props.lastUpdate)), _react2.default.createElement(_style2.default, {\n    styleId: 820628782,\n    css: 'div[data-jsx=\"820628782\"] {padding: 15px;color: #82FA58;display: inline-block;font: 50px menlo, monaco, monospace;background-color: #000;}.light[data-jsx=\"820628782\"] {background-color: #999;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvQ2xvY2suanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSWtCLEFBQ0wsMkJBQ1csY0FDQyxlQUNPLHNCQUNjLG9DQUNiLHVCQUN4QixDQUVPLDhCQUNpQix1QkFDeEIiLCJmaWxlIjoiY29tcG9uZW50cy9DbG9jay5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvd2FkZWFudGhvbnkvRGV2ZWxvcG1lbnQvbW9ieC1uZXh0anMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMubGlnaHQgPyAnbGlnaHQnIDogJyd9PlxuICAgICAge2Zvcm1hdChuZXcgRGF0ZShwcm9wcy5sYXN0VXBkYXRlKSl9XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIGRpdiB7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICBjb2xvcjogIzgyRkE1ODtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgZm9udDogNTBweCBtZW5sbywgbW9uYWNvLCBtb25vc3BhY2U7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5saWdodCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzk5OTtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IGZvcm1hdCA9IHQgPT4gYCR7cGFkKHQuZ2V0VVRDSG91cnMoKSl9OiR7cGFkKHQuZ2V0VVRDTWludXRlcygpKX06JHtwYWQodC5nZXRVVENTZWNvbmRzKCkpfWBcblxuY29uc3QgcGFkID0gbiA9PiBuIDwgMTAgPyBgMCR7bn1gIDogblxuIl19 */\\n/*@ sourceURL=components/Clock.js */'\n  }));\n};\n\nvar format = function format(t) {\n  return pad(t.getUTCHours()) + ':' + pad(t.getUTCMinutes()) + ':' + pad(t.getUTCSeconds());\n};\n\nvar pad = function pad(n) {\n  return n < 10 ? '0' + n : n;\n};\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/wadeanthony/Development/mobx-nextjs/components/Clock.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/wadeanthony/Development/mobx-nextjs/components/Clock.js\"); } } })();\n\n/***/ }),\n\n/***/ 562:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(46);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(22);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(23);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(48);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(11);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _link = __webpack_require__(560);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _mobxReact = __webpack_require__(555);\n\nvar _Clock = __webpack_require__(561);\n\nvar _Clock2 = _interopRequireDefault(_Clock);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _dec,\n    _class,\n    _jsxFileName = '/Users/wadeanthony/Development/mobx-nextjs/components/Page.js';\n\nvar Page = (_dec = (0, _mobxReact.inject)('store'), _dec(_class = (0, _mobxReact.observer)(_class = function (_React$Component) {\n  (0, _inherits3.default)(Page, _React$Component);\n\n  function Page() {\n    (0, _classCallCheck3.default)(this, Page);\n\n    return (0, _possibleConstructorReturn3.default)(this, (Page.__proto__ || (0, _getPrototypeOf2.default)(Page)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(Page, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.store.start();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.props.store.stop();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        }\n      }, _react2.default.createElement('h1', {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        }\n      }, this.props.title), _react2.default.createElement(_Clock2.default, { lastUpdate: this.props.store.lastUpdate, light: this.props.store.light, __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        }\n      }), _react2.default.createElement('nav', {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        }\n      }, _react2.default.createElement(_link2.default, { href: this.props.linkTo, __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        }\n      }, _react2.default.createElement('a', {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        }\n      }, 'Navigate'))));\n    }\n  }]);\n\n  return Page;\n}(_react2.default.Component)) || _class) || _class);\n\nexports.default = Page;\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/wadeanthony/Development/mobx-nextjs/components/Page.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/wadeanthony/Development/mobx-nextjs/components/Page.js\"); } } })();\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initStore = initStore;\n\nvar _defineProperty = __webpack_require__(90);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _classCallCheck2 = __webpack_require__(22);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _mobx = __webpack_require__(556);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _desc, _value, _class, _descriptor, _descriptor2, _descriptor3;\n\nfunction _initDefineProp(target, property, descriptor, context) {\n  if (!descriptor) return;\n\n  (0, _defineProperty2.default)(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n}\n\nvar store = null;\n\nvar Store = (_class = function Store(isServer, lastUpdate) {\n  var _this = this;\n\n  (0, _classCallCheck3.default)(this, Store);\n\n  _initDefineProp(this, 'lastUpdate', _descriptor, this);\n\n  _initDefineProp(this, 'light', _descriptor2, this);\n\n  _initDefineProp(this, 'start', _descriptor3, this);\n\n  this.stop = function () {\n    return clearInterval(_this.timer);\n  };\n\n  this.lastUpdate = lastUpdate;\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, 'lastUpdate', [_mobx.observable], {\n  enumerable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, 'light', [_mobx.observable], {\n  enumerable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, 'start', [_mobx.action], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return function () {\n      _this2.timer = setInterval(function () {\n        _this2.lastUpdate = Date.now();\n        _this2.light = true;\n      });\n    };\n  }\n})), _class);\n\nfunction initStore(isServer) {\n  var lastUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();\n\n  if (isServer && typeof window === 'undefined') {\n    return new Store(isServer, lastUpdate);\n  } else {\n    if (store === null) {\n      store = new Store(isServer, lastUpdate);\n    }\n    return store;\n  }\n}\n\n ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } if (typeof module.exports === 'function') { __REACT_HOT_LOADER__.register(module.exports, 'module.exports', \"/Users/wadeanthony/Development/mobx-nextjs/store.js\"); return; } for (var key in module.exports) { if (!Object.prototype.hasOwnProperty.call(module.exports, key)) { continue; } var namedExport = void 0; try { namedExport = module.exports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/Users/wadeanthony/Development/mobx-nextjs/store.js\"); } } })();\n\n/***/ }),\n\n/***/ 565:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(557);\n\n\n/***/ })\n\n},[565]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcz8zMWU2MTMwIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQ2xvY2suanM/MzFlNjEzMCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1BhZ2UuanM/MzFlNjEzMCIsIndlYnBhY2s6Ly8vLi9zdG9yZS5qcz8zMWU2MTMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTzs7OztBQUNFOztBQUNpQjs7QUFDVDs7Ozs7Ozs7O0lBRUk7Ozs7OzBDQUNjO1VBQUEsV0FDL0I7O1VBQU0sV0FBVyxDQUFDLENBQ2xCO1VBQU0sUUFBUSxzQkFDZDthQUFPLEVBQUUsWUFBWSxNQUFNLFlBQVksVUFDeEM7QUFFRDs7O21CQUFhLE9BQU87d0NBQUE7O3dJQUVsQjs7VUFBSyxRQUFRLHNCQUFVLE1BQU0sVUFBVSxNQUFNO1dBQzlDOzs7Ozs2QkFHQzs2QkFDRyxxQ0FBUyxPQUFPLEtBQUs7b0JBQXRCO3NCQUNFO0FBREY7T0FBQSxrQkFDRyxnQ0FBSyxPQUFNLGNBQWEsUUFBTztvQkFBaEM7c0JBR0w7QUFISzs7Ozs7O0VBZjZCLGdCQUFNOztrQkFBdEIsUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMckI7Ozs7Ozs7O2tCQUFlLFVBQUMsT0FDZDt5QkFDRSx1QkFBSyxXQUFXLE1BQU0sUUFBUSxVQUFVLGdCQUF4Qzs7Z0JBQUE7a0JBQ0c7QUFESDtHQUFBLFNBQ1UsSUFBSSxLQUFLLE1BQU07YUFEekI7U0FpQkg7QUFqQkc7QUFGSjs7QUFxQkEsSUFBTSxTQUFTO1NBQVEsSUFBSSxFQUFFLHVCQUFrQixJQUFJLEVBQUUseUJBQW9CLElBQUksRUFBRTtBQUEvRTs7QUFFQSxJQUFNLE1BQU07U0FBSyxJQUFJLFdBQVMsSUFBTTtBQUFwQyxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2Qk87Ozs7QUFDQTs7OztBQUNVOztBQUNDOzs7Ozs7Ozs7O0lBR1osZUFETCx1QkFBTzs7Ozs7Ozs7Ozs7d0NBR0o7V0FBSyxNQUFNLE1BQ1o7Ozs7MkNBR0M7V0FBSyxNQUFNLE1BQ1o7Ozs7NkJBR0M7NkJBQ0U7O29CQUFBO3NCQUNFO0FBREY7QUFBQSx5QkFDRTs7b0JBQUE7c0JBQUs7QUFBTDtBQUFBLGNBQVUsTUFDVix3QkFBQyxpQ0FBTSxZQUFZLEtBQUssTUFBTSxNQUFNLFlBQVksT0FBTyxLQUFLLE1BQU0sTUFBTTtvQkFBeEU7c0JBQ0E7QUFEQTswQkFDQTs7b0JBQUE7c0JBQ0U7QUFERjtBQUFBLHlCQUNHLGdDQUFLLE1BQU0sS0FBSyxNQUFNO29CQUF2QjtzQkFBK0I7QUFBL0I7eUJBQStCOztvQkFBQTtzQkFBQTtBQUFBO0FBQUEsU0FJdEM7Ozs7O0VBbkJnQixnQkFBTSxVQURQLGdCQXVCbEI7O2tCQUFlLEs7Ozs7Ozs7Ozs7Ozs7OztRQ05DOzs7Ozs7Ozs7O0FBdEJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVqQixJQUFJLFFBQVE7O0lBRU4sa0JBSUosZUFBYSxVQUFVLFlBQVk7Y0FBQTs7c0NBQUE7O21EQUFBOzsrQ0FBQTs7K0NBQUE7O09BV25DLE9BQU87V0FBTSxjQUFjLE1BQUs7QUFWOUI7O09BQUssYUFDTjs0RUFMQTs7O1dBQXdCOzt3RUFDeEI7OztXQUFtQjs7d0VBTW5COzs7OztXQUFlLFlBQ2Q7YUFBSyxvQkFBb0IsWUFDdkI7ZUFBSyxhQUFhLEtBQ2xCO2VBQUssUUFDTjtBQUNGLE9BSmM7OztLQVNqQjs7QUFBTyxtQkFBb0IsVUFBbUM7TUFBQSxpRkFBWixLQUNoRDs7TUFBSSxZQUFZLE9BQU8sV0FBVyxhQUNoQztXQUFPLElBQUksTUFBTSxVQUNsQjtBQUZELFNBR0U7UUFBSSxVQUFVLE1BQ1o7Y0FBUSxJQUFJLE1BQU0sVUFDbkI7QUFDRDtXQUNEO0FBQ0YiLCJmaWxlIjoiYnVuZGxlcy9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnbW9ieC1yZWFjdCdcbmltcG9ydCB7IGluaXRTdG9yZSB9IGZyb20gJy4uL3N0b3JlJ1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9QYWdlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3VudGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIGdldEluaXRpYWxQcm9wcyAoeyByZXEgfSkge1xuICAgIGNvbnN0IGlzU2VydmVyID0gISFyZXFcbiAgICBjb25zdCBzdG9yZSA9IGluaXRTdG9yZShpc1NlcnZlcilcbiAgICByZXR1cm4geyBsYXN0VXBkYXRlOiBzdG9yZS5sYXN0VXBkYXRlLCBpc1NlcnZlciB9XG4gIH1cblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0b3JlID0gaW5pdFN0b3JlKHByb3BzLmlzU2VydmVyLCBwcm9wcy5sYXN0VXBkYXRlKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXt0aGlzLnN0b3JlfT5cbiAgICAgICAgPFBhZ2UgdGl0bGU9J0luZGV4IFBhZ2UnIGxpbmtUbz0nL290aGVyJyAvPlxuICAgICAgPC9Qcm92aWRlcj5cbiAgICApXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhZ2VzP2VudHJ5IiwiZXhwb3J0IGRlZmF1bHQgKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmxpZ2h0ID8gJ2xpZ2h0JyA6ICcnfT5cbiAgICAgIHtmb3JtYXQobmV3IERhdGUocHJvcHMubGFzdFVwZGF0ZSkpfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBkaXYge1xuICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgY29sb3I6ICM4MkZBNTg7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIGZvbnQ6IDUwcHggbWVubG8sIG1vbmFjbywgbW9ub3NwYWNlO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gICAgICAgIH1cblxuICAgICAgICAubGlnaHQge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBmb3JtYXQgPSB0ID0+IGAke3BhZCh0LmdldFVUQ0hvdXJzKCkpfToke3BhZCh0LmdldFVUQ01pbnV0ZXMoKSl9OiR7cGFkKHQuZ2V0VVRDU2Vjb25kcygpKX1gXG5cbmNvbnN0IHBhZCA9IG4gPT4gbiA8IDEwID8gYDAke259YCA6IG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvQ2xvY2suanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyBpbmplY3QsIG9ic2VydmVyIH0gZnJvbSAnbW9ieC1yZWFjdCdcbmltcG9ydCBDbG9jayBmcm9tICcuL0Nsb2NrJ1xuXG5AaW5qZWN0KCdzdG9yZScpIEBvYnNlcnZlclxuY2xhc3MgUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLnByb3BzLnN0b3JlLnN0YXJ0KClcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLnByb3BzLnN0b3JlLnN0b3AoKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgxPnt0aGlzLnByb3BzLnRpdGxlfTwvaDE+XG4gICAgICAgIDxDbG9jayBsYXN0VXBkYXRlPXt0aGlzLnByb3BzLnN0b3JlLmxhc3RVcGRhdGV9IGxpZ2h0PXt0aGlzLnByb3BzLnN0b3JlLmxpZ2h0fSAvPlxuICAgICAgICA8bmF2PlxuICAgICAgICAgIDxMaW5rIGhyZWY9e3RoaXMucHJvcHMubGlua1RvfT48YT5OYXZpZ2F0ZTwvYT48L0xpbms+XG4gICAgICAgIDwvbmF2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvUGFnZS5qcyIsImltcG9ydCB7IGFjdGlvbiwgb2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnXG5cbmxldCBzdG9yZSA9IG51bGxcblxuY2xhc3MgU3RvcmUge1xuICBAb2JzZXJ2YWJsZSBsYXN0VXBkYXRlID0gMFxuICBAb2JzZXJ2YWJsZSBsaWdodCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IgKGlzU2VydmVyLCBsYXN0VXBkYXRlKSB7XG4gICAgdGhpcy5sYXN0VXBkYXRlID0gbGFzdFVwZGF0ZVxuICB9XG5cbiAgQGFjdGlvbiBzdGFydCA9ICgpID0+IHtcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKVxuICAgICAgdGhpcy5saWdodCA9IHRydWVcbiAgICB9KVxuICB9XG5cbiAgc3RvcCA9ICgpID0+IGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdG9yZSAoaXNTZXJ2ZXIsIGxhc3RVcGRhdGUgPSBEYXRlLm5vdygpKSB7XG4gIGlmIChpc1NlcnZlciAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBuZXcgU3RvcmUoaXNTZXJ2ZXIsIGxhc3RVcGRhdGUpXG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0b3JlID09PSBudWxsKSB7XG4gICAgICBzdG9yZSA9IG5ldyBTdG9yZShpc1NlcnZlciwgbGFzdFVwZGF0ZSlcbiAgICB9XG4gICAgcmV0dXJuIHN0b3JlXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3N0b3JlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ=="}